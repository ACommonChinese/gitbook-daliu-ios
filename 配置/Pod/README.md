# Pod

### 一些概念
- ruby是一门脚本语言, 20世纪90年代由日本人松本行弘(Yukihiro Matsumoto)开发  
- gem是管理ruby库和程序的标准工具包 - RubyGems is a package management framework for Ruby.  
- CocoaPods是一个负责管理iOS项目中第三方库的包管理工具(package management) 
- CocoaPods是基于ruby ecosystem（生态）的，因此首先需要在机器上安装ruby，然后安装gem，gem是ruby的package managment, 使用gem安装或卸载cocaPods  

### 什么是Specs
参见[官网](http://guides.cocoapods.org/making/specs-and-specs-repo.html) Specs(sepcification: 规格；说明书；详述) and the Specs Repo    

A Podspec, or Spec, describes a version of a Pod library. One Pod, over the course of time, will have many Specs. It includes details about where the source should be fetched from, what files to use, the build settings to apply, and other general metadata such as its name, version, and description.

You can create one by hand, or run pod spec create to generate a stub. Podspecs are ruby files.  
`pod spec create Hello` 这会生成Hello.podspec文件.

The [Specs Repo](https://github.com/CocoaPods/Specs) is the repository on GitHub that contains the list of all available pods. Every library has an individual folder, which contains sub folders of the available versions of that pod.

- Specs Repo: 对应cocoapod在git hub上的地址
- Pod: 对应一个作为pod的文件夹，比如我们pod 'AFNetworking', AFNetworking在Specs Repo中是一个文件夹
- Spec: Pod有多个spec文件，比如AFNetworking可能有多个版本，那就可能有之个spec描述文件，每一个文件描述了特定的版本信息

Here is an example spec:

```Ruby
# A Simple specification.
Pod::Spec.new do |spec|
  spec.name         = 'libPusher'
  spec.version      = '1.3'
  spec.license      = 'MIT'
  spec.summary      = 'An Objective-C client for the Pusher.com service'
  spec.homepage     = 'https://github.com/lukeredpath/libPusher'
  spec.author       = 'Luke Redpath'
  spec.source       = { :git => 'git://github.com/lukeredpath/libPusher.git', :tag => 'v1.3' }
  spec.source_files = 'Library/*'
  spec.requires_arc = true
  spec.dependency 'SocketRocket'
end
```

A specification with subspecs

```Objective-C
Pod::Spec.new do |spec|
  spec.name          = 'ShareKit'
  spec.source_files  = 'Classes/ShareKit/{Configuration,Core,Customize UI,UI}/**/*.{h,m,c}'
  # ...

  spec.subspec 'Evernote' do |evernote|
    evernote.source_files = 'Classes/ShareKit/Sharers/Services/Evernote/**/*.{h,m}'
  end

  spec.subspec 'Facebook' do |facebook|
    facebook.source_files   = 'Classes/ShareKit/Sharers/Services/Facebook/**/*.{h,m}'
    facebook.compiler_flags = '-Wno-incomplete-implementation -Wno-missing-prototypes'
    facebook.dependency 'Facebook-iOS-SDK'
  end
  # ...
end
```

Subspecs are a way of chopping up the functionality of a Podspec, allowing people to install a subset of your library.

With the above example a Podfile using pod 'ShareKit' results in the inclusion of the whole library, while pod 'ShareKit/Facebook' can be used if you are interested only in the Facebook specific parts.

A specification with subspecs within submodules

If you have some submodules in the repository you need to set the `:submodules` key of the `s.source` hash to true. Then you'll be able to specify subspec like above.

```Ruby
Pod::Spec.new do |spec|
  spec.name          = 'SDLoginKit'
  spec.source        =  { 
      :git => 'https://github.com/dulaccc/SDLoginKit.git',
      :tag => '1.0.2', 
      :submodules => true 
  }
  # ...

  spec.subspec 'SDKit' do |sdkit|
    sdkit.source_files = 'SDKit/**/*.{h,m}'
    sdkit.resources    = 'SDKit/**/Assets/*.png'
  end
  # ...
end
```

**Podfile Syntax Reference**
[Podfile语法](http://guides.cocoapods.org/syntax/podfile.html#podfile)

A stub specification file can be generated by the [pod spec create](http://guides.cocoapods.org/terminal/commands.html#pod_spec_create) command.

The specification DSL provides great flexibility and dynamism. Moreover, the DSL adopts the convention over configuration and thus it can be very simple:

DSL的全称是domain-specific language，它在wiki上的定义如下：
A domain-specific language (DSL) is a computer language specialized to a particular application domain.
与之相对的是GPL(general-purpose language)。
DSL指的是针对特定应用领域而设计使用的计算机语言，而GPL指的是针对跨应用领域而设计使用的计算机语言。
常见的DSL有:HTML,Shell,make语言,ant语言,maven语言，rpm语言，dpkg语言，awk语言，正则表达式，dc计算机语言等，有些DSL语言又被称为微型语言
常见的GPL有:Java,C等

```Ruby
Pod::Spec.new do |s|
    s.name         = 'ZZQRManager'
    s.version      = '1.3'
    s.summary      = 'An easy way to use qr manage'
    s.homepage     = 'https://github.com/ACommonChinese/ZZQRManager/'
    s.license      = 'MIT'
    s.authors      = {'ACommonChinese' => 'liuxing8807@126.com'}
    s.platform     = :ios, '11.0'
    s.source       = {:git => "https://github.com/ACommonChinese/ZZQRManager.git", :tag => s.version}
    s.source_files = 'ZZQRManager/*.{h,m}'
    s.resource     = 'ZZQRManager/ZZQRManager.bundle'
    s.frameworks   = "UIKit" # spec.frameworks = 'QuartzCore', 'CoreData'
    s.requires_arc = true # The default value of this attribute is true.
    s.ios.deployment_target = '8.0'
    # spec.dependency 'AFNetworking', '~> 1.0'
    # spec.dependency 'RestKit/CoreData', '~> 0.20.0'
    # spec.ios.dependency 'MBProgressHUD', '~> 0.5'
end
```

##### 参考链接：

* 参考链接： [https://blog.csdn.net/jiankeufo/article/details/79362660](https://blog.csdn.net/jiankeufo/article/details/79362660)
* 官方文档：[http://guides.cocoapods.org/making/specs-and-specs-repo.html](http://guides.cocoapods.org/making/specs-and-specs-repo.html)
* 官方引导页：[https://guides.cocoapods.org/](https://guides.cocoapods.org/)
* Github地址：[https://github.com/CocoaPods](https://github.com/CocoaPods)
  .spec & .spec.json \[[https://github.com/CocoaPods/guides.cocoapods.org/issues/48](https://github.com/CocoaPods/guides.cocoapods.org/issues/48)
  [https://my.oschina.net/FEEDFACF/blog/1611959\]\(https://github.com/CocoaPods/guides.cocoapods.org/issues/48](https://my.oschina.net/FEEDFACF/blog/1611959]%28https://github.com/CocoaPods/guides.cocoapods.org/issues/48)
  [https://my.oschina.net/FEEDFACF/blog/1611959](https://my.oschina.net/FEEDFACF/blog/1611959)\)
* [Podfile Syntax Reference Podfile语法](http://guides.cocoapods.org/syntax/podfile.html#podfile)
* [官网搜索pod](https://cocoapods.org/)
